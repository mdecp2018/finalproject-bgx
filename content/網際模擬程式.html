<!doctype html>
<html><head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>期末分組專案</title> <link rel="stylesheet" type="text/css" href="./../static/cmsimply.css">

<script type="text/javascript" src="./../static/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushJava.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushPython.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushSql.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushXml.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushPhp.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushLua.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCpp.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCSharp.js"></script>
<link type="text/css" rel="stylesheet" href="./../static/syntaxhighlighter/css/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>

<!-- for LaTeX equations 暫時不用
<script src="https://scrum-3.github.io/web/math/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>
<script type="text/javascript">
init_mathjax = function() {
    if (window.MathJax) {
        // MathJax loaded
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
            },
            displayAlign: 'left', // Change this to 'center' to center equations.
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}}
            }
        });
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    }
}
init_mathjax();
</script>
-->
<!-- 暫時不用
<script src="./../static/fengari-web.js"></script>
<script type="text/javascript" src="./../static/Cango-13v08-min.js"></script>
<script type="text/javascript" src="./../static/CangoAxes-4v01-min.js"></script>
<script type="text/javascript" src="./../static/gearUtils-05.js"></script>
-->
<!-- for Brython 暫時不用
<script src="https://scrum-3.github.io/web/brython/brython.js"></script>
<script src="https://scrum-3.github.io/web/brython/brython_stdlib.js"></script>
-->
<style>
img.red3border {
    border: 3px solid red;
}
.black3border {
    border: 3px solid black;
}
</style>

<script src="./../static/jquery.js"></script>
<script type="text/javascript">
$(function(){
    $("ul.topmenu> li:has(ul) > a").append('<div class="arrow-right"></div>');
    $("ul.topmenu > li ul li:has(ul) > a").append('<div class="arrow-right"></div>');
});
</script>

</head><header><h1>2018 Fall 期末專案示範網站</h1> <confmenu>
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="sitemap.html">Site Map</a></li>
<li><a href="./../reveal/index.html">reveal</a></li>
<li><a href="./../blog/index.html">blog</a></li>

</ul>
</confmenu></header>
<div class='container'><nav><ul id='css3menu1' class='topmenu'><li><a href='簡介.html'>簡介</a><ul><li><a href='可攜系統更新.html'>可攜系統更新</a><li><a href='靜態與動態網站.html'>靜態與動態網站</a><li><a href='特殊處理.html'>特殊處理</a></li></ul><li><a href='分組網站.html'>分組網站</a><li><a href='課程專題.html'>課程專題</a><ul><li><a href='計算機程式.html'>計算機程式</a><ul><li><a href='CMSimfly.html'>CMSimfly</a><li><a href='網際繪圖.html'>網際繪圖</a><li><a href='Lua gear.html'>Lua gear</a><li><a href='Lua-Cango.html'>Lua-Cango</a><li><a href='網際模擬程式.html'>網際模擬程式</a><li><a href='Spacegame.html'>Spacegame</a><li><a href='Ggame 程式庫.html'>Ggame 程式庫</a><li><a href='Flaskbb.html'>Flaskbb</a><li><a href='工程用計算機.html'>工程用計算機</a><li><a href='Flexx.html'>Flexx</a></li></ul><li><a href='電腦輔助設計.html'>電腦輔助設計</a><ul><li><a href='Kinematics.html'>Kinematics</a></li></li></ul></ul><li><a href='設計主機.html'>設計主機</a><ul><li><a href='Heroku 簡介.html'>Heroku 簡介</a><ul><li><a href='Heroku 設定.html'>Heroku 設定</a></li></ul><li><a href='Fossil SCM.html'>Fossil SCM</a><li><a href='Jupyterlab.html'>Jupyterlab</a><li><a href='Sandstorm.html'>Sandstorm</a></li></ul><li><a href='Python 程式.html'>Python 程式</a><ul><li><a href='靜態網站範例.html'>靜態網站範例</a><li><a href='動態網站範例.html'>動態網站範例</a><li><a href='GUI 程式範例.html'>GUI 程式範例</a><ul><li><a href='GUI 程式碼.html'>GUI 程式碼</a><li><a href='parse_content 範例.html'>parse_content 範例</a></li></li></ul></ul><li><a href='輔助設計.html'>輔助設計</a><ul><li><a href='Onshape.html'>Onshape</a><li><a href='V-rep.html'>V-rep</a></li></ul><li><a href='電子書.html'>電子書</a><ul><li><a href='協同編輯.html'>協同編輯</a><ul><li><a href='Kmol-editor.html'>Kmol-editor</a><li><a href='Leo-editor.html'>Leo-editor</a></li></ul></nav><section>Lua-Cango << <a href='Lua-Cango.html'>Previous</a> <a href='Spacegame.html'>Next</a> >> Spacegame<br /><h1>網際模擬程式</h1>
<p><a href="https://github.com/mdecourse/webgame">https://github.com/mdecourse/webgame</a> 是一套源自<a href="https://github.com/tiggerntatie/brython-server"> https://github.com/tiggerntatie/brython-server</a> 的網際模擬程式庫, 適合用來開發線上遊戲或與工程設計相關的網際程式.</p>
<p>之前的 js 程式庫都採用遠端資料, 目前將各程式庫升級為最新版本, 且改為自帶程式庫.</p>
<p>參考的網際程式庫: <a href="https://github.com/tiggerntatie/ggame">https://github.com/tiggerntatie/ggame</a> </p>
<p>由於此 ggame 程式庫使用</p>
<p>jquery-3.3.1.min.js - <a href="https://jquery.com/">https://jquery.com/</a> <br/>jquery-ui.1.12.1.min.js - <a href="https://jqueryui.com/">https://jqueryui.com/</a> <br/>pixi-4.8.2.min.js - <a href="http://www.pixijs.com/">http://www.pixijs.com/</a> <br/>buzz-1.2.1.js - <a href="http://buzz.jaysalvat.com/">http://buzz.jaysalvat.com/</a> <br/>brython-3.7.0.js - <a href="https://brython.info/">https://brython.info/</a> <br/>brython_stdlib-3.7.0.js</p>
<p>因此使用者必須對上述程式庫有些了解後, 再深入研究如何使用  ggame 程式庫開發專案套件.</p>
<p>目前的 spacewar: <a href="http://mde.tw/webgame/spacewar.html">http://mde.tw/webgame/spacewar.html</a></p>
<hr/>
<h4>Ggame Documentation</h4>
<p><a href="https://ggame.readthedocs.io/en/latest/introduction.html">https://ggame.readthedocs.io/en/latest/introduction.html</a> </p>
<p><a href="https://github.com/HHS-IntroProgramming/Standards-and-Syllabus/wiki/More-Graphics:-Assets-and-Looping">https://github.com/HHS-IntroProgramming/Standards-and-Syllabus/wiki/More-Graphics:-Assets-and-Looping</a> </p>
<p><span>Ggame is </span><strong>not</strong><span> intended to be a full-featured gaming API, with every bell and whistle. It is designed primarily as a tool for teaching computer programming, recognizing that the ability to create engaging and interactive games is a powerful motivator for many progamming students. Accordingly, any functional or performance enhancements that </span><em>can</em><span> be reasonably implemented by the user are left as an exercise.</span></p>
<h4>Functionality Goals</h4>
<p><span>The ggame library is intended to be trivially easy to use. For example:</span></p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">from ggame import App, ImageAsset, Sprite
# Create a displayed object at 100,100 using an image asset
Sprite(ImageAsset("bunny.png"), (100,100))
# Create the app, with a default stage
app = App()  
# Run the app
app.run()</pre>
<div class="section" id="extensions">
<h4>Extensions<a class="headerlink" href="https://ggame.readthedocs.io/en/latest/introduction.html#extensions" title="Permalink to this headline"></a></h4>
<p>Ggame is being extended for geometry exploration in a manner reminiscent of Geogebra, digital logic simulation, and with tools and classes to use with rocket and orbital simulations.</p>
</div>
<div class="section" id="overview">
<h4>Overview<a class="headerlink" href="https://ggame.readthedocs.io/en/latest/introduction.html#overview" title="Permalink to this headline"></a></h4>
<p>There are three major pieces in a ggame app: assets, sprites and the app itself.</p>
<div class="section" id="assets">
<h4>Assets<a class="headerlink" href="https://ggame.readthedocs.io/en/latest/introduction.html#assets" title="Permalink to this headline"></a></h4>
<p>Asset objects (i.e.<span> </span><code class="docutils literal notranslate"><span class="pre">ImageAsset</span></code>, etc.) typically represent separate files that are provided by the “art department”. These might be background images, user interface images, or images that represent objects in the game. In addition,<span> </span><code class="docutils literal notranslate"><span class="pre">SoundAsset</span></code><span> </span>are used to represent sound files (.wav or .mp3 format) that can be played in the game.</p>
<p>Ggame also extends the asset concept to include graphics that are generated dynamically at run-time, such as geometrical objects, e.g. rectangles, lines, etc.</p>
</div>
<div class="section" id="sprites">
<h4>Sprites<a class="headerlink" href="https://ggame.readthedocs.io/en/latest/introduction.html#sprites" title="Permalink to this headline"></a></h4>
<p>All of the visual aspects of the game are represented by instances of<span> </span><code class="docutils literal notranslate"><span class="pre">Sprite</span></code><span> </span>or subclasses of it.</p>
</div>
<div class="section" id="app">
<h4>App<a class="headerlink" href="https://ggame.readthedocs.io/en/latest/introduction.html#app" title="Permalink to this headline"></a></h4>
<p>Every ggame application must create a single instance of the<span> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">App</span></code><span> </span>class (or a sub-class of it). Create an instance of the<span> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">App</span></code><span> </span>class to draw a graphics canvas in your browser window. Execute the app’s<span> </span><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code><span> </span>method to start refreshing and redrawing the visual assets on the screen.</p>
</div>
<div class="section" id="events">
<h4>Events<a class="headerlink" href="https://ggame.readthedocs.io/en/latest/introduction.html#events" title="Permalink to this headline"></a></h4>
<p>No game is complete without a player and players make events. Your code handles user input by registering to receive keyboard and mouse events using<span> </span><code class="xref py py-meth docutils literal notranslate"><span class="pre">listenKeyEvent()</span></code><span> </span>and<span> </span><code class="xref py py-meth docutils literal notranslate"><span class="pre">listenMouseEvent()</span></code><span> </span>methods of the<span> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">App</span></code><span> </span>class.</p>
</div>
</div>
<div class="section" id="execution-environment">
<h4>Execution Environment<a class="headerlink" href="https://ggame.readthedocs.io/en/latest/introduction.html#execution-environment" title="Permalink to this headline"></a></h4>
<p>Ggame is designed to execute in a web browser using<span> </span><a class="reference external" href="http://brython.info/">Brython</a>,<span> </span><a class="reference external" href="http://www.pixijs.com/">Pixi.js</a><span> </span>and<span> </span><a class="reference external" href="http://buzz.jaysalvat.com/">Buzz</a>. The easiest way to do this is by executing from<span> </span><a class="reference external" href="https://runpython.org/">runpython</a>, with your source code stored at<a class="reference external" href="http://github.com/">github</a>. When you use ggame from within<span> </span><a class="reference external" href="https://runpython.org/">runpython</a>, the Github ggame repository is automatically placed on the import search path.</p>
</div>
<div class="section" id="geometry">
<h4>Geometry<a class="headerlink" href="https://ggame.readthedocs.io/en/latest/introduction.html#geometry" title="Permalink to this headline"></a></h4>
<p>When referring to screen coordinates, note that the x-axis of the computer screen is<span> </span><em>horizontal</em><span> </span>with the zero position on the left hand side of the screen. The y-axis is<span> </span><em>vertical</em><span> </span>with the zero position at the<span> </span><strong>top</strong><span> </span>of the screen.</p>
<p>Increasing positive y-coordinates correspond to the downward direction on the computer screen. Note that this is<span> </span><strong>different</strong><span> </span>from the way you may have learned about x and y coordinates in math class!</p>
</div>
<p>Another example:</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">from ggame import App, ImageAsset, Sprite, MouseEvent
from random import random, randint

class Bunny(Sprite):
    
    asset = ImageAsset("bunny.png")
    
    def __init__(self, position):
        super().__init__(Bunny.asset, position)
        # register mouse events
        App.listenMouseEvent(MouseEvent.mousedown, self.mousedown)
        App.listenMouseEvent(MouseEvent.mouseup, self.mouseup)
        App.listenMouseEvent(MouseEvent.mousemove, self.mousemove)
        self.dragging = False

    
    def step(self):
        """
        Every now and then a bunny hops...
        """
        if random() &lt; 0.01:
            self.x += randint(-20,20)
            self.y += randint(-20,20)
        
        
    def mousedown(self, event):
        # capture any mouse down within 50 pixels
        self.deltax = event.x - (self.x + self.width//2) 
        self.deltay = event.y - (self.y + self.height//2)
        if abs(self.deltax) &lt; 50 and abs(self.deltay) &lt; 50:
            self.dragging = True
            # only drag one bunny at a time - consume the event
            event.consumed = True
            
    def mousemove(self, event):
        if self.dragging:
            self.x = event.x - self.deltax - self.width//2
            self.y = event.y - self.deltay - self.height//2
            event.consumed = True
            
    def mouseup(self, event):
        if self.dragging:
            self.dragging = False
            event.consumed = True
            
        
class DemoApp(App):
    
    def __init__(self):
        super().__init__()
        for i in range(10):
            Bunny((randint(50,self.width),randint(50,self.height)))
        
    def step(self):
        """
        Override step to perform action on each frame update
        """
        for bunny in self.spritelist:
            bunny.step()


# Create the app
app = DemoApp()  
# Run the app
app.run()</pre>
<h4>特別注意</h4>
<p><a href="https://help.github.com/articles/files-that-start-with-an-underscore-are-missing/">https://help.github.com/articles/files-that-start-with-an-underscore-are-missing/</a> </p>
<p>因為 Github Pages 內建無視以 _ 開頭的檔案, 而 Brython 在導入模組時, 必須能夠擷取模組目錄下的 __init__.py, 因此必須設定 _config.yml 檔案, 指定 Github Pages 建立頁面時, 必須包含 static/ggame 目錄下的 __init__.py 檔案.</p>
<p>_config.yml 設定檔案內容為:</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">include: [static/ggame, __init__.py]</pre>
<p>根據以上資訊所建立的網際互動程式範例倉儲:</p>
<p><a href="https://github.com/mdecourse/kmolgame">https://github.com/mdecourse/kmolgame</a> </p>
<p>程式網頁:</p>
<p><a href="http://mde.tw/kmolgame/">http://mde.tw/kmolgame/</a></p>
<p><a href="http://mde.tw/kmolgame/bunny.html">http://mde.tw/kmolgame/bunny.html</a> </p>
<br />Lua-Cango << <a href='Lua-Cango.html'>Previous</a> <a href='Spacegame.html'>Next</a> >> Spacegame</section></div></body></html>